(()=>{var e={6231:(e,t,r)=>{"use strict";t.vq=void 0;r(6577);t.vq=e=>({type:"SETUP_STORE",initialState:e})},6577:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TOGGLE_CORRECT_INCORRECT_QUIZ_MODE=t.SHOW_ANSWERS_DURING_QUIZ=t.SET_CORRECT_ANSWERS=t.SETUP_STORE=void 0,t.TOGGLE_CORRECT_INCORRECT_QUIZ_MODE="TOGGLE_CORRECT_INCORRECT_QUIZ_MODE",t.SET_CORRECT_ANSWERS="SET_CORRECT_ANSWERS",t.SHOW_ANSWERS_DURING_QUIZ="SHOW_ANSWERS_DURING_QUIZ",t.SETUP_STORE="SETUP_STORE"},6942:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=a(e,i(r)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=a(t,r));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n);var e={};r.r(e),r.d(e,{setCorrectAnswers:()=>d,setupStore:()=>u,showAnswersDuringQuiz:()=>p,toggleCorrectIncorrectQuizMode:()=>m});var t={};r.r(t),r.d(t,{displayAnswersDuringQuiz:()=>v,getCorrectAnswers:()=>g,getState:()=>E,isEnabled:()=>w});var o={};r.r(o),r.d(o,{getState:()=>S});const i=window.wp.data,a="TOGGLE_CORRECT_INCORRECT_QUIZ_MODE",l="SET_CORRECT_ANSWERS",s="SHOW_ANSWERS_DURING_QUIZ",c={enabled:!1,questions:{},showAnswersDuringQuiz:!0},u=e=>({type:"SETUP_STORE",initialState:e}),d=e=>({type:l,answers:e}),m=e=>({type:a,mode:e}),p=e=>({type:s,showAnswersDuringQuiz:e});function E(e){return e}function g(e){return e.questions}function w(e){return e.enabled}function v(e){return e.showAnswersDuringQuiz}const b=window.qf.config;var f=r.n(b),C=r(6231);function S(e){var t;const r=f().getInitialPayload();return(0,C.vq)(null!==(t=r.quiz)&&void 0!==t?t:{})}(0,i.registerStore)("quillForms/quiz-editor",{reducer:(e=c,t)=>{switch(t.type){case"SETUP_STORE":return{...e,...t.initialState};case a:return{...e,enabled:!e.enabled};case l:return{...e,questions:t.answers};case s:return{...e,showAnswersDuringQuiz:t.showAnswersDuringQuiz}}return e},actions:e,selectors:t,resolvers:o});const h=window.qf.builderPanels,q=window.React,_=window.qf.adminComponents,z=window.lodash,y=window.emotion;var R=r(6942),A=r.n(R);(0,h.registerBuilderPanel)("quiz",{title:"Correct/Incorrect Answers",icon:"yes-alt",mode:"single",areaToShow:"drop-area",render:()=>{const{blocks:e,blockTypes:t,correctAnswers:r,enabled:n,displayAnswersDuringQuiz:o}=(0,i.useSelect)((e=>({blocks:e("quillForms/block-editor").getBlocks(),blockTypes:e("quillForms/blocks").getBlockTypes(),correctAnswers:e("quillForms/quiz-editor").getCorrectAnswers(),enabled:e("quillForms/quiz-editor").isEnabled(),displayAnswersDuringQuiz:e("quillForms/quiz-editor").displayAnswersDuringQuiz()}))),{setCorrectAnswers:a,toggleCorrectIncorrectQuizMode:l,showAnswersDuringQuiz:s}=(0,i.useDispatch)("quillForms/quiz-editor"),{resetAnswers:c}=(0,i.useDispatch)("quillForms/renderer-core");let u=[];return(0,z.forEach)(e,(e=>{const r=e.name;t[r]?.supports.correctAnswers&&u.push(e)})),(0,q.createElement)("div",null,(0,q.createElement)(_.BaseControl,null,(0,q.createElement)(_.ControlWrapper,{orientation:"horizontal"},(0,q.createElement)(_.ControlLabel,{label:"Enable Correct/Incorrect Answers Mode"}),(0,q.createElement)(_.ToggleControl,{checked:n,onChange:()=>{n&&c(),l(!n)}}))),n&&(0,q.createElement)(q.Fragment,null,(0,q.createElement)(_.BaseControl,null,(0,q.createElement)(_.ControlWrapper,{orientation:"horizontal"},(0,q.createElement)(_.ControlLabel,{label:"Display Answers During Quiz"}),(0,q.createElement)(_.ToggleControl,{checked:o,onChange:()=>{c(),s(!o)}}))),(0,q.createElement)(_.BaseControl,null,(0,q.createElement)(_.ControlWrapper,{orientation:"vertical"},(0,q.createElement)(_.ControlLabel,{label:"Useful tags to use"}),(0,q.createElement)("div",{className:"quiz-editor-tags"},(0,q.createElement)("div",{className:"quiz-editor-tag"},(0,q.createElement)("div",{className:"quiz-editor-tag-key"},"{{quiz:correct_answers_count}}"),(0,q.createElement)("div",{className:"quiz-editor-tag-explanation"},"Prints the number of correct answers")),(0,q.createElement)("div",{className:"quiz-editor-tag"},(0,q.createElement)("div",{className:"quiz-editor-tag-key"},"{{quiz:incorrect_answers_count}}"),(0,q.createElement)("div",{className:"quiz-editor-tag-explanation"},"Prints the number of incorrect answers")),(0,q.createElement)("div",{className:"quiz-editor-tag"},(0,q.createElement)("div",{className:"quiz-editor-tag-key"},"{{quiz:summary}}"),(0,q.createElement)("div",{className:"quiz-editor-tag-explanation"},"presents each question along with the answer's correctness, followed by an explanation if available."))),(0,q.createElement)("div",{className:y.css`  
                                display: flex;
                                justify-content: center;
                                align-items: center;
                                height: 100px;
                                margin-top: 30px;
                                background: #ffeec1;
                                color: #85855b;
                                font-size: 14px;`},'Assingning points can be done from "Calculator" panel then click on "Points" subpanel.'))),(0,q.createElement)(_.BaseControl,null,(0,q.createElement)(_.ControlWrapper,{orientation:"vertical"},(0,q.createElement)(_.ControlLabel,{label:"Set Correct Answers"}),0===(0,z.size)(u)?(0,q.createElement)("div",{className:y.css`
                                display: flex;
                                justify-content: center;
                                align-items: center;
                                height: 100px;
                                background: #ffeec1;
                                color: #85855b;
                                font-size: 14px;
                            `},"Please add at least one multiple choice question or a picture choice one"):(0,q.createElement)(q.Fragment,null,u.map((e=>{var n;const o=t[e.name];if(!o.supports.choices)return null;const i=o.getChoices({id:e.id,attributes:null!==(n=e.attributes)&&void 0!==n?n:{}});return(0,q.createElement)("div",{key:e.id,className:"quiz-editor-block"},(0,q.createElement)("div",{className:"quiz-editor-block-header"},(0,q.createElement)(_.BlockIconBox,{icon:o?.icon,color:o?.color}),(0,q.createElement)("div",{className:y.css`
									flex: 1;
									margin-left: 15px;
								`},e.attributes?.label)),(0,q.createElement)("div",{className:"quiz-editor-block-body"},(0,q.createElement)("div",{className:"quiz-editor-block-choice"},(0,q.createElement)("div",{className:"quiz-editor-block-choice-label-wrapper"},"Answer"),(0,q.createElement)("div",null,"Correct?")),i&&i.map(((t,n)=>{const i=t.label,l=t.value;return(0,q.createElement)("div",{key:l,className:"quiz-editor-block-choice"},(0,q.createElement)("div",{className:"quiz-editor-block-choice-label-wrapper"},(0,q.createElement)("div",{className:A()("points-block-choice-label-key",y.css`
															display: flex;
															justify-content: center;
															align-items: center;
															font-size: 11px;
															background: ${o.color};
															width: 24px;
															height: 24px;
															border-radius: 3px;
															color: #fff;
															margin-right: 10px;
														`)},(e=>{const t=[e];let r,n,o,i;for(r=0;r<t.length;)t[r]>25&&(i=Math.floor(t[r]/26),t[r+1]=i-1,t[r]%=26),r+=1;for(n="",o=0;o<t.length;o+=1)n=String.fromCharCode("a".charCodeAt(0)+t[o])+n;return n})(n).toUpperCase()),(0,q.createElement)("div",{className:"points-block-choice-label"},i)),(0,q.createElement)("div",null,(0,q.createElement)(_.ToggleControl,{checked:r?.[e.id]?.correctAnswers?.includes(l),onChange:()=>{var t;const n={...r,[e.id]:{...r?.[e.id],correctAnswers:r?.[e.id]?.correctAnswers?.includes(l)?r?.[e.id]?.correctAnswers?.filter((e=>e!==l)):[...null!==(t=r?.[e.id]?.correctAnswers)&&void 0!==t?t:[],l]}};a(n)}})))})),(0,q.createElement)("div",{className:"quiz-editor-question-explanation"},(0,q.createElement)("div",{className:"quiz-editor-question-explanation-label"},"Explanation"),(0,q.createElement)("div",{className:"quiz-editor-question-explanation-input"},(0,q.createElement)("textarea",{value:r?.[e.id]?.explanation,onChange:t=>{const n={...r,[e.id]:{...r?.[e.id],explanation:t.target.value}};a(n)}})))))})))))))}})})(),(window.qf=window.qf||{}).quizEditor=n})();